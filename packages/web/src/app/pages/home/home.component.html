<div class="flex flex-col flex-1">
  <div class="flex px-4 py-3 text-2xl shadow-lg bg-zinc-800">
    Chat

    <span class="flex-1"></span>

    <div class="flex gap-2">
      <button class="flex px-2 py-1 transition rounded text-sm opacity-70 hover:bg-zinc-700 my-auto">
        <ag-icon class="mr-1 my-auto" name="trash" width="18" height="18" />
        <span class="m-auto">Clear</span>
      </button>

      <button class="flex px-2 py-1 transition rounded text-sm opacity-70 hover:bg-zinc-700 my-auto">
        <ag-icon class="mr-1 my-auto" name="settings" width="18" height="18" />
        <span class="m-auto">Settings</span>
      </button>
    </div>
  </div>

  <div class="flex flex-col flex-1 p-5">
    <div class="flex flex-col flex-1 gap-2">
      @for (message of state.$messages | async; track message.id) {
        <div class="flex flex-col gap-1 transition-all px-4 py-3 rounded-lg text-sm border border-transparent hover:border-zinc-800">
          <div class="flex font-medium">{{ message.role | titlecase }}</div>
          <div [agMarkdown]="message.content"></div>
        </div>
      }
    </div>

    <div
      class="flex flex-col shadow-lg rounded-xl overflow-hidden"
      style="background-color: #121212"
    >
      <input
        class="p-5"
        placeholder="Enter user message..."
        [(ngModel)]="text"
        agHotKey="command+enter"
        (agHotKeyPressed)="send()"
      />

      <div class="flex p-5">
        <span class="flex-1"></span>
        <div class="flex">
          <button
            class="flex px-2 py-1.5 transition rounded text-sm my-auto opacity-70 bg-emerald-600 hover:opacity-100 disabled:opacity-50"
            [disabled]="!text"
            (click)="send()"
          >
            <span class="m-auto mr-2">Run</span>
            <div class="flex gap-0.5 px-1 py-1 m-auto border border-gray-300 rounded">
              <ag-icon class="my-auto" name="command" width="12" height="12" strokeWidth="3" />
              <ag-icon class="my-auto" name="corner-down-left" width="12" height="12" strokeWidth="3" />
            </div>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="flex flex-col max-lg:hidden">
  sidebar
</div>
